{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#deepchopper","title":"DeepChopper","text":""},{"location":"#overview","title":"Overview","text":"<p>\ud83e\uddec DeepChopper is a genomic language model designed to accurately detect and remove chimeric artifacts in Nanopore direct RNA sequencing (dRNA-seq) data. By leveraging deep learning, DeepChopper identifies adapter sequences within base-called reads, ensuring higher quality and more reliable sequencing results.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li> <p> High Accuracy</p> <p>State-of-the-art detection of chimeric reads using transformer-based models with &gt;95% sensitivity</p> </li> <li> <p> Fast Processing</p> <p>Optimized Rust core with parallel processing capabilities. Process millions of reads in minutes</p> </li> <li> <p> Zero-shot Capability</p> <p>Works across different RNA chemistries (RNA002, RNA004, and newer) without retraining</p> </li> <li> <p> Easy Integration</p> <p>Simple Python API and CLI for seamless workflow integration</p> </li> <li> <p> GPU Acceleration</p> <p>Optional GPU support (NVIDIA, Apple Silicon) for faster processing of large datasets</p> </li> <li> <p> Web Interface</p> <p>Interactive web UI for quick testing and visualization</p> </li> </ul>"},{"location":"#why-deepchopper","title":"Why DeepChopper?","text":"<p>The Problem</p> <p>Chimera artifacts in nanopore dRNA-seq can confound transcriptome analyses, leading to false gene fusion calls and incorrect transcript annotations. Existing basecalling tools fail to detect internal adapter sequences, leaving these artifacts in your data.</p> <p>The Solution</p> <p>DeepChopper solves this problem with a three-step approach:</p> <ol> <li> Detecting adapter sequences that basecallers miss</li> <li> Chopping reads at adapter locations to remove chimeric artifacts  </li> <li> Preserving high-quality sequence data for downstream analysis</li> </ol>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#try-online","title":"Try Online","text":"<p>Experience DeepChopper instantly without any installation:</p> <p></p> <p>Note</p> <p>The online version is limited to one FASTQ record at a time. For large-scale analyses, please install DeepChopper locally.</p>"},{"location":"#installation","title":"Installation","text":"<p>Install DeepChopper using pip:</p> <pre><code>pip install deepchopper\n</code></pre> <p>Verify the installation:</p> <pre><code>deepchopper --help\n</code></pre> <p>For detailed installation instructions, see the Installation Guide.</p>"},{"location":"#basic-usage","title":"Basic Usage","text":"<pre><code># 1. Predict chimera artifacts (automatically encodes FASTQ data)\ndeepchopper predict raw_reads.fastq --output predictions\n\n# 2. Chop the reads at detected adapter locations\ndeepchopper chop predictions/ raw_reads.fastq --output chopped.fastq\n</code></pre> <p>For a complete walkthrough, check out the Tutorial.</p>"},{"location":"#use-cases","title":"Use Cases","text":"<ul> <li> <p> Transcriptome Assembly</p> <p>Remove chimera artifacts to improve transcript reconstruction and assembly quality</p> </li> <li> <p> Gene Fusion Detection</p> <p>Eliminate false positives from adapter-bridged artifacts for accurate fusion calling</p> </li> <li> <p> Differential Expression</p> <p>Ensure accurate read counts by removing chimeric reads before quantification</p> </li> <li> <p> RNA-Seq QC</p> <p>Assess and improve data quality in dRNA-seq experiments</p> </li> </ul>"},{"location":"#citation","title":"Citation","text":"<p>If DeepChopper helps your research, please cite our paper:</p> <pre><code>@article{li2026genomic,\n  title = {Genomic Language Model Mitigates Chimera Artifacts in Nanopore Direct {{RNA}} Sequencing},\n  author = {Li, Yangyang and Wang, Ting-You and Guo, Qingxiang and Ren, Yanan and Lu, Xiaotong and Cao, Qi and Yang, Rendong},\n  date = {2026-01-19},\n  journaltitle = {Nature Communications},\n  shortjournal = {Nat Commun},\n  publisher = {Nature Publishing Group},\n  issn = {2041-1723},\n  doi = {10.1038/s41467-026-68571-5},\n  url = {https://www.nature.com/articles/s41467-026-68571-5},\n  urldate = {2026-01-20}\n}\n</code></pre>"},{"location":"#support","title":"Support","text":"<ul> <li>\ud83d\udcd6 Documentation</li> <li>\ud83d\udc1b Issue Tracker</li> <li>\ud83d\udcac GitHub Discussions</li> </ul>"},{"location":"#license","title":"License","text":"<p>DeepChopper is released under the Apache License 2.0.</p>    Developed with \u2764\ufe0f by the YLab team | Happy sequencing! \ud83e\uddec\ud83d\udd2c"},{"location":"cli-reference/","title":"CLI Reference","text":""},{"location":"cli-reference/#cli-reference","title":"CLI Reference","text":"<p>Complete documentation for all DeepChopper command-line interface commands.</p> <p>Reference guide covering all available commands, options, and usage examples.</p>"},{"location":"cli-reference/#overview","title":"Overview","text":"<p>DeepChopper offers several commands for processing Nanopore direct-RNA sequencing data:</p> <ul> <li><code>deepchopper predict</code> - Detect adapter sequences in FASTQ files</li> <li><code>deepchopper chop</code> - Remove detected adapter sequences from reads</li> <li><code>deepchopper web</code> - Launch interactive web interface</li> <li><code>deepchopper --version</code> - Display version information</li> </ul>"},{"location":"cli-reference/#global-options","title":"Global Options","text":"<p>These options are available for all commands:</p> <pre><code>deepchopper [OPTIONS] COMMAND\n</code></pre> Option Description <code>--help</code>, <code>-h</code> Show help message and exit <code>--version</code> Show version and exit"},{"location":"cli-reference/#commands","title":"Commands","text":""},{"location":"cli-reference/#predict","title":"predict","text":"<p>Detect adapter sequences and chimeric artifacts in sequencing data.</p> <pre><code>deepchopper predict [OPTIONS] DATA_PATH\n</code></pre>"},{"location":"cli-reference/#arguments","title":"Arguments","text":"Argument Type Required Description <code>DATA_PATH</code> Path Yes Path to FASTQ or Parquet file"},{"location":"cli-reference/#options","title":"Options","text":"Option Short Type Default Description <code>--gpus</code> <code>-g</code> Integer 0 Number of GPUs to use (0 for CPU) <code>--output</code> <code>-o</code> Path None Output directory for predictions <code>--batch-size</code> <code>-b</code> Integer 12 Batch size for processing <code>--workers</code> <code>-w</code> Integer 0 Number of data loader workers <code>--model</code> <code>-m</code> String rna002 Model to use (rna002 or rna004) <code>--limit-batches</code> Integer None Limit number of batches to process <code>--max-sample</code> Integer None Maximum number of samples to process <code>--verbose</code> <code>-v</code> Flag False Enable verbose output"},{"location":"cli-reference/#examples","title":"Examples","text":"<p>Basic prediction (CPU):</p> <pre><code>deepchopper predict raw_reads.fastq\n</code></pre> <p>Using GPU acceleration:</p> <pre><code>deepchopper predict raw_reads.fastq --gpus 1\n</code></pre> <p>Using RNA004 model:</p> <pre><code>deepchopper predict raw_reads.fastq --model rna004\n</code></pre> <p>Custom output location:</p> <pre><code>deepchopper predict raw_reads.fastq --output ./predictions\n</code></pre> <p>Process a subset for testing:</p> <pre><code>deepchopper predict raw_reads.fastq --max-sample 1000\n</code></pre> <p>Adjust batch size for memory:</p> <pre><code>deepchopper predict raw_reads.fastq --batch-size 32 --gpus 1\n</code></pre>"},{"location":"cli-reference/#output","title":"Output","text":"<p>Creates a directory containing:</p> <ul> <li><code>predictions.parquet</code> - Predicted adapter positions for each read</li> <li><code>metadata.json</code> - Processing metadata and statistics</li> </ul>"},{"location":"cli-reference/#chop","title":"chop","text":"<p>Remove adapter sequences from reads based on predictions.</p> <pre><code>deepchopper chop [OPTIONS] PREDICTIONS_DIR FASTQ_FILE\n</code></pre>"},{"location":"cli-reference/#arguments_1","title":"Arguments","text":"Argument Type Required Description <code>PREDICTIONS_DIR</code> Path Yes Directory containing predictions from <code>predict</code> command <code>FASTQ_FILE</code> Path Yes Original FASTQ file to chop"},{"location":"cli-reference/#options_1","title":"Options","text":"Option Short Type Default Description <code>--output</code> <code>-o</code> Path Auto Output FASTQ file path <code>--chunk-size</code> Integer 10000 Number of reads to process per chunk <code>--min-read-length</code> Integer 20 Minimum length of chopped reads to keep <code>--smooth-window</code> Integer 21 Sliding window size for smoothing <code>--min-interval-size</code> Integer 13 Minimum adapter region size <code>--max-process-intervals</code> Integer 4 Maximum adapter regions per read <code>--verbose</code> <code>-v</code> Flag False Enable verbose output"},{"location":"cli-reference/#examples_1","title":"Examples","text":"<p>Basic chopping:</p> <pre><code>deepchopper chop predictions/ raw_reads.fastq\n</code></pre> <p>Custom output file:</p> <pre><code>deepchopper chop predictions/ raw_reads.fastq --output chopped.fastq\n</code></pre> <p>Memory-efficient processing:</p> <pre><code>deepchopper chop predictions/ raw_reads.fastq --chunk-size 1000\n</code></pre> <p>High-performance processing:</p> <pre><code>deepchopper chop predictions/ raw_reads.fastq --chunk-size 50000\n</code></pre> <p>Adjust sensitivity:</p> <pre><code>deepchopper chop predictions/ raw_reads.fastq --smooth-window 31 --min-interval-size 15\n</code></pre> <p>Keep only longer reads:</p> <pre><code>deepchopper chop predictions/ raw_reads.fastq --min-read-length 50\n</code></pre>"},{"location":"cli-reference/#output_1","title":"Output","text":"<p>Creates:</p> <ul> <li>Chopped FASTQ file with adapter sequences removed</li> <li>Reads split at adapter positions</li> <li>Statistics about processing</li> </ul>"},{"location":"cli-reference/#memory-usage-guidelines","title":"Memory Usage Guidelines","text":"Chunk Size Memory Usage Speed Use Case 1,000 ~1-2 GB Slower Memory-constrained systems 10,000 (default) ~5-10 GB Balanced General use 50,000 ~20-50 GB Fastest High-memory systems"},{"location":"cli-reference/#web","title":"web","text":"<p>Launch interactive web interface for DeepChopper.</p> <pre><code>deepchopper web [OPTIONS]\n</code></pre>"},{"location":"cli-reference/#options_2","title":"Options","text":"Option Type Default Description <code>--port</code> Integer 7860 Port to run the web server on <code>--share</code> Flag False Create public Gradio link"},{"location":"cli-reference/#examples_2","title":"Examples","text":"<p>Start web interface:</p> <pre><code>deepchopper web\n</code></pre> <p>Custom port:</p> <pre><code>deepchopper web --port 8080\n</code></pre> <p>Create shareable link:</p> <pre><code>deepchopper web --share\n</code></pre>"},{"location":"cli-reference/#note","title":"Note","text":"<p>The web interface is limited to processing one FASTQ record at a time. For batch processing, use the <code>predict</code> and <code>chop</code> commands.</p>"},{"location":"cli-reference/#complete-workflow-examples","title":"Complete Workflow Examples","text":""},{"location":"cli-reference/#basic-workflow","title":"Basic Workflow","text":"<pre><code># 1. Predict adapters\ndeepchopper predict raw_reads.fastq --output predictions\n\n# 2. Chop reads\ndeepchopper chop predictions/ raw_reads.fastq --output chopped.fastq\n</code></pre>"},{"location":"cli-reference/#gpu-accelerated-workflow","title":"GPU-Accelerated Workflow","text":"<pre><code># Use GPU for faster prediction\ndeepchopper predict raw_reads.fastq --gpus 1 --batch-size 32 --output predictions\n\n# Chop with default settings\ndeepchopper chop predictions/ raw_reads.fastq --output chopped.fastq\n</code></pre>"},{"location":"cli-reference/#memory-efficient-workflow","title":"Memory-Efficient Workflow","text":"<pre><code># Process in smaller batches\ndeepchopper predict raw_reads.fastq --batch-size 8 --output predictions\n\n# Chop with small chunks\ndeepchopper chop predictions/ raw_reads.fastq --chunk-size 1000 --output chopped.fastq\n</code></pre>"},{"location":"cli-reference/#rna004-workflow","title":"RNA004 Workflow","text":"<pre><code># Use RNA004 model\ndeepchopper predict raw_reads.fastq --model rna004 --output predictions\n\n# Adjust parameters for RNA004\ndeepchopper chop predictions/ raw_reads.fastq \\\n  --smooth-window 31 \\\n  --min-interval-size 15 \\\n  --output chopped.fastq\n</code></pre>"},{"location":"cli-reference/#testing-workflow","title":"Testing Workflow","text":"<pre><code># Test on subset of data\ndeepchopper predict raw_reads.fastq --max-sample 100 --output test_predictions\n\n# Check results\ndeepchopper chop test_predictions/ raw_reads.fastq --output test_chopped.fastq\n</code></pre>"},{"location":"cli-reference/#tips-and-best-practices","title":"Tips and Best Practices","text":""},{"location":"cli-reference/#performance-optimization","title":"Performance Optimization","text":"<ol> <li>Use GPU when available: Adds <code>--gpus 1</code> for 10-50x speedup</li> <li>Adjust batch size: Larger batches are faster but use more memory</li> <li>Use appropriate chunk size: Balance between memory and speed for chopping</li> <li>Process in parallel: Run multiple instances on different files</li> </ol>"},{"location":"cli-reference/#quality-control","title":"Quality Control","text":"<ol> <li>Inspect predictions: Check <code>predictions.parquet</code> for adapter positions</li> <li>Monitor statistics: Review processing logs for quality metrics</li> <li>Validate results: Compare input/output read counts</li> <li>Adjust parameters: Fine-tune based on your data characteristics</li> </ol>"},{"location":"cli-reference/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Out of memory: Reduce <code>--batch-size</code> or <code>--chunk-size</code></li> <li>Slow processing: Enable GPU with <code>--gpus 1</code></li> <li>Too many fragments: Increase <code>--smooth-window</code> or reduce <code>--max-process-intervals</code></li> <li>Missed adapters: Decrease <code>--min-interval-size</code> or <code>--smooth-window</code></li> </ul>"},{"location":"cli-reference/#see-also","title":"See Also","text":"<ul> <li>Tutorial - Step-by-step guide with real data</li> <li>Parameters Guide - Detailed parameter optimization</li> <li>Installation - Setup instructions</li> <li>FAQ - Common questions and answers</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#contributing","title":"Contributing","text":"<p>Guidelines for contributing to DeepChopper development.</p> <p>We welcome contributions! This guide covers setting up your development environment, coding standards, and the contribution process.</p>"},{"location":"contributing/#getting-started","title":"Getting Started","text":"<ol> <li> <p>Fork the repository on GitHub.</p> </li> <li> <p>Clone your fork locally:</p> </li> </ol> <pre><code>git clone https://github.com/ylab-hi/DeepChopper.git\ncd DeepChopper\n</code></pre> <ol> <li>Set up your development environment:</li> </ol> <pre><code># Install uv package manager\npip install uv\n\n# Install dependencies\nuv sync\n\n# Build and install in development mode\nmaturin develop --release\n\n# Run tests to verify\nuv run pytest tests -k \"not slow\"\n</code></pre> <p>Alternatively, with conda:</p> <pre><code># Create conda environment\nconda create -n deepchopper python=3.10\nconda activate deepchopper\n\n# Install uv and dependencies\npip install uv\nuv sync\n\n# Build and install\nmaturin develop --release\n</code></pre>"},{"location":"contributing/#making-changes","title":"Making Changes","text":"<ol> <li>Create a new branch for your feature or bugfix:</li> </ol> <pre><code>git checkout -b feature/your-feature-name\n</code></pre> <ol> <li> <p>Make your changes and commit them with a clear commit message.</p> </li> <li> <p>Push your changes to your fork on GitHub:</p> </li> </ol> <pre><code>git push origin feature/your-feature-name\n</code></pre> <ol> <li>Open a pull request against the main repository.</li> </ol>"},{"location":"contributing/#coding-standards","title":"Coding Standards","text":"<ul> <li>Follow PEP 8 guidelines for Python code.</li> <li>Write clear, concise comments and docstrings.</li> <li>Ensure your code is compatible with Python 3.10+.</li> </ul>"},{"location":"contributing/#testing","title":"Testing","text":"<ul> <li>Add unit tests for new functionality.</li> <li>Ensure all tests pass before submitting a pull request:</li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<ul> <li>Update the README.md if you're adding or changing features.</li> <li>Add or update docstrings for new or modified functions and classes.</li> </ul>"},{"location":"contributing/#submitting-pull-requests","title":"Submitting Pull Requests","text":"<ol> <li>Ensure your PR description clearly describes the problem and solution.</li> <li>Include the relevant issue number if applicable.</li> <li>Make sure all tests pass and the code lints without errors.</li> </ol>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<ul> <li>Use the GitHub issue tracker to report bugs or suggest features.</li> <li>Provide as much detail as possible, including steps to reproduce for bugs.</li> </ul> <p>Thank you for contributing to DeepChopper!</p>"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#faq","title":"FAQ","text":"<p>Frequently asked questions and answers about DeepChopper.</p> <p>Find quick answers to common questions about installation, usage, performance, and troubleshooting.</p>"},{"location":"faq/#general-questions","title":"General Questions","text":""},{"location":"faq/#what-is-deepchopper","title":"What is DeepChopper?","text":"<p>DeepChopper is a deep learning tool designed to detect and remove chimeric artifacts in Nanopore direct RNA sequencing data. It uses a transformer-based language model to identify adapter sequences within base-called reads that traditional basecallers miss.</p>"},{"location":"faq/#why-do-i-need-deepchopper","title":"Why do I need DeepChopper?","text":"<p>Chimeric reads (reads containing internal adapter sequences) can lead to:</p> <ul> <li>False gene fusion calls</li> <li>Incorrect transcript annotations</li> <li>Inflated gene expression estimates</li> <li>Poor transcriptome assembly quality</li> </ul> <p>DeepChopper removes these artifacts, improving downstream analysis accuracy.</p>"},{"location":"faq/#how-does-deepchopper-differ-from-dorados-trimming","title":"How does DeepChopper differ from Dorado's trimming?","text":"<ul> <li>Dorado: Trims adapters from read ends (5' and 3')</li> <li>DeepChopper: Detects and removes internal adapter sequences that Dorado misses</li> </ul> <p>You can use both tools together for comprehensive adapter removal.</p>"},{"location":"faq/#installation-setup","title":"Installation &amp; Setup","text":""},{"location":"faq/#what-are-the-system-requirements","title":"What are the system requirements?","text":"<p>Minimum: - Python 3.10+ - 8GB RAM - 2GB storage</p> <p>Recommended: - 16GB+ RAM - NVIDIA GPU with CUDA support - 10GB storage (for models and data)</p>"},{"location":"faq/#can-i-use-deepchopper-without-a-gpu","title":"Can I use DeepChopper without a GPU?","text":"<p>Yes! DeepChopper works on CPU, though it's slower. For small datasets (&lt;10K reads), CPU processing is reasonable. For larger datasets, GPU acceleration is recommended.</p>"},{"location":"faq/#which-operating-systems-are-supported","title":"Which operating systems are supported?","text":"<p>DeepChopper supports: - Linux (x86_64) - macOS (Intel and Apple Silicon) - Windows (x86_64)</p> <p>Pre-built wheels are available on PyPI for all platforms.</p>"},{"location":"faq/#usage-questions","title":"Usage Questions","text":""},{"location":"faq/#which-model-should-i-use-rna002-or-rna004","title":"Which model should I use: rna002 or rna004?","text":"<ul> <li>RNA002: For data sequenced with RNA002 chemistry</li> <li>RNA004: For data sequenced with RNA004 or newer chemistries</li> </ul> <p>DeepChopper has zero-shot capability, so the RNA002 model works well on RNA004 data, but using the matching model is recommended for best results.</p>"},{"location":"faq/#how-long-does-processing-take","title":"How long does processing take?","text":"<p>Processing time depends on: - Dataset size - Hardware (CPU vs GPU) - Batch size</p> <p>Approximate times for 1 million reads: - CPU: 2-6 hours - GPU (single): 10-30 minutes - GPU (multiple): 5-15 minutes</p>"},{"location":"faq/#can-i-process-multiple-files-in-parallel","title":"Can I process multiple files in parallel?","text":"<p>Yes! You can run multiple DeepChopper instances simultaneously:</p> <pre><code># Process multiple files\nfor file in *.fastq; do\n  deepchopper predict \"$file\" --output \"predictions_${file%.fastq}\" &amp;\ndone\nwait\n</code></pre>"},{"location":"faq/#what-input-formats-are-supported","title":"What input formats are supported?","text":"<ul> <li>FASTQ (<code>.fastq</code>, <code>.fq</code>, <code>.fastq.gz</code>, <code>.fq.gz</code>)</li> <li>Parquet (for already-encoded data)</li> </ul>"},{"location":"faq/#what-is-the-output-format","title":"What is the output format?","text":"<ul> <li>Predictions: Parquet files with adapter positions</li> <li>Chopped reads: FASTQ format with adapters removed</li> </ul>"},{"location":"faq/#performance-optimization","title":"Performance &amp; Optimization","text":""},{"location":"faq/#how-can-i-speed-up-processing","title":"How can I speed up processing?","text":"<ol> <li>Use GPU: Add <code>--gpus 1</code> to prediction</li> <li>Increase batch size: Try <code>--batch-size 32</code> or higher</li> <li>Use multiple GPUs: <code>--gpus 2</code> for parallel processing</li> <li>Process in parallel: Run multiple instances on different files</li> </ol>"},{"location":"faq/#im-running-out-of-memory-what-should-i-do","title":"I'm running out of memory. What should I do?","text":"<p>For prediction: </p><pre><code># Reduce batch size\ndeepchopper predict data.fastq --batch-size 4\n</code></pre><p></p> <p>For chopping: </p><pre><code># Reduce chunk size\ndeepchopper chop predictions/ data.fastq --chunk-size 1000\n</code></pre><p></p>"},{"location":"faq/#how-much-memory-do-i-need","title":"How much memory do I need?","text":"Dataset Size Prediction (CPU) Prediction (GPU) Chopping 100K reads 2-4 GB 4-6 GB 1-2 GB 1M reads 4-8 GB 8-12 GB 2-5 GB 10M reads 8-16 GB 12-24 GB 5-20 GB"},{"location":"faq/#results-quality","title":"Results &amp; Quality","text":""},{"location":"faq/#how-do-i-know-if-deepchopper-worked-correctly","title":"How do I know if DeepChopper worked correctly?","text":"<p>Check these indicators:</p> <ol> <li>Output file size: Should be smaller than input (adapters removed)</li> <li>Read count: May increase (reads split at adapters)</li> <li>Log messages: Look for \"processed X reads\" messages</li> <li>Quality metrics: Review prediction confidence scores</li> </ol>"},{"location":"faq/#why-are-there-more-reads-in-the-output","title":"Why are there more reads in the output?","text":"<p>This is expected! DeepChopper splits chimeric reads at adapter positions, creating multiple valid reads from single chimeric reads.</p> <p>Example: </p><pre><code>Input:  1 chimeric read (Read1-Adapter-Read2)\nOutput: 2 valid reads (Read1, Read2)\n</code></pre><p></p>"},{"location":"faq/#how-do-i-validate-the-results","title":"How do I validate the results?","text":"<ol> <li>Alignment improvement: Map to reference genome, check alignment rates</li> <li>Chimeric alignment reduction: Count chimeric alignments before/after</li> <li>Gene fusion validation: Verify gene fusion calls are more accurate</li> <li>Visual inspection: Use web interface to inspect individual reads</li> </ol>"},{"location":"faq/#can-deepchopper-introduce-false-positives","title":"Can DeepChopper introduce false positives?","text":"<p>Yes, like any tool, false positives are possible. To reduce them:</p> <ul> <li>Increase <code>--smooth-window</code> (e.g., 31)</li> <li>Increase <code>--min-interval-size</code> (e.g., 15)</li> <li>Use the model matching your chemistry</li> </ul>"},{"location":"faq/#troubleshooting","title":"Troubleshooting","text":""},{"location":"faq/#error-command-not-found-deepchopper","title":"Error: \"command not found: deepchopper\"","text":"<p>Solution: Ensure DeepChopper is installed and in your PATH:</p> <pre><code># Check installation\npip show deepchopper\n\n# Add to PATH if needed\nexport PATH=\"$HOME/.local/bin:$PATH\"\n</code></pre>"},{"location":"faq/#error-cuda-out-of-memory","title":"Error: \"CUDA out of memory\"","text":"<p>Solution: Reduce batch size:</p> <pre><code>deepchopper predict data.fastq --gpus 1 --batch-size 8\n</code></pre>"},{"location":"faq/#error-filenotfounderror","title":"Error: \"FileNotFoundError\"","text":"<p>Solution: Check file paths and ensure files exist:</p> <pre><code># Verify file exists\nls -lh data.fastq\n\n# Use absolute paths\ndeepchopper predict /full/path/to/data.fastq\n</code></pre>"},{"location":"faq/#predictions-are-empty-or-incorrect","title":"Predictions are empty or incorrect","text":"<p>Possible causes:</p> <ol> <li>Wrong model: Make sure you're using the correct model (rna002 vs rna004)</li> <li>Already trimmed data: If Dorado already trimmed adapters, DeepChopper may not find internal adapters</li> <li>Low-quality data: Very noisy data may produce poor predictions</li> </ol> <p>Solutions:</p> <ul> <li>Use matching model for your chemistry</li> <li>If data is already clean, DeepChopper may not be needed</li> <li>Adjust parameters (see Parameters Guide)</li> </ul>"},{"location":"faq/#processing-is-very-slow","title":"Processing is very slow","text":"<p>Common causes:</p> <ol> <li>Using CPU instead of GPU</li> <li>Small batch size</li> <li>Many workers with limited CPU cores</li> </ol> <p>Solutions:</p> <pre><code># Enable GPU\ndeepchopper predict data.fastq --gpus 1 --batch-size 32\n\n# Optimize workers (usually 0 or 4 works best)\ndeepchopper predict data.fastq --workers 4\n</code></pre>"},{"location":"faq/#advanced-usage","title":"Advanced Usage","text":""},{"location":"faq/#can-i-train-my-own-model","title":"Can I train my own model?","text":"<p>Yes! DeepChopper is built on PyTorch Lightning. See the development documentation for training instructions.</p>"},{"location":"faq/#can-i-use-deepchopper-programmatically","title":"Can I use DeepChopper programmatically?","text":"<p>Yes! DeepChopper provides a Python API. However, for most use cases, the CLI is recommended as it's optimized and easier to use.</p>"},{"location":"faq/#does-deepchopper-work-with-dna-sequencing","title":"Does DeepChopper work with DNA sequencing?","text":"<p>DeepChopper is specifically designed and trained for direct RNA sequencing. It may not work well with DNA data.</p>"},{"location":"faq/#can-i-use-deepchopper-with-other-sequencing-platforms","title":"Can I use DeepChopper with other sequencing platforms?","text":"<p>DeepChopper is optimized for Oxford Nanopore direct RNA sequencing. It's not tested or recommended for other platforms (Illumina, PacBio, etc.).</p>"},{"location":"faq/#data-privacy","title":"Data &amp; Privacy","text":""},{"location":"faq/#does-deepchopper-send-my-data-anywhere","title":"Does DeepChopper send my data anywhere?","text":"<p>No. DeepChopper processes all data locally. The only network access is for: - Downloading models from Hugging Face Hub (one-time) - Using the optional <code>--share</code> flag in web interface</p>"},{"location":"faq/#where-are-models-stored","title":"Where are models stored?","text":"<p>Models are cached locally in: - Linux: <code>~/.cache/huggingface/</code> - macOS: <code>~/Library/Caches/huggingface/</code> - Windows: <code>%USERPROFILE%\\.cache\\huggingface\\</code></p>"},{"location":"faq/#can-i-use-deepchopper-offline","title":"Can I use DeepChopper offline?","text":"<p>Yes, after the initial model download. Models are cached locally and don't require internet access for subsequent runs.</p>"},{"location":"faq/#getting-more-help","title":"Getting More Help","text":""},{"location":"faq/#where-can-i-find-more-information","title":"Where can I find more information?","text":"<ul> <li>Tutorial - Complete walkthrough</li> <li>CLI Reference - All commands and options</li> <li>Parameters Guide - Optimization tips</li> <li>GitHub Issues - Report bugs</li> <li>GitHub Discussions - Ask questions</li> </ul>"},{"location":"faq/#how-do-i-report-a-bug","title":"How do I report a bug?","text":"<ol> <li>Check existing issues</li> <li>Open a new issue with:</li> <li>DeepChopper version (<code>deepchopper --version</code>)</li> <li>Operating system and Python version</li> <li>Full error message</li> <li>Steps to reproduce</li> </ol>"},{"location":"faq/#how-do-i-request-a-feature","title":"How do I request a feature?","text":"<p>Open a GitHub Discussion describing: - The feature you'd like - Your use case - Why it would be helpful</p>"},{"location":"faq/#how-can-i-contribute","title":"How can I contribute?","text":"<p>We welcome contributions! See the Contributing Guide for: - Setting up development environment - Code style guidelines - Testing procedures - Pull request process</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#installation","title":"Installation","text":"<p>Detailed instructions for installing DeepChopper on Linux, macOS, and Windows.</p> <p>This guide covers multiple installation methods, GPU setup, and troubleshooting common issues.</p>"},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>Python: 3.10 or later</li> <li>Operating System: Linux, macOS, or Windows</li> <li>Storage: At least 2GB free space for the package and models</li> <li>Memory: Minimum 8GB RAM (16GB+ recommended for large datasets)</li> <li>Optional: NVIDIA GPU with CUDA support for acceleration</li> </ul>"},{"location":"installation/#quick-installation","title":"Quick Installation","text":"<p>The easiest way to install DeepChopper is via pip:</p> <pre><code>pip install deepchopper\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"<p>Check that DeepChopper is installed correctly:</p> <pre><code>deepchopper --help\n</code></pre> <p>You should see the command-line help information.</p>"},{"location":"installation/#installation-methods","title":"Installation Methods","text":""},{"location":"installation/#method-1-using-pip-recommended","title":"Method 1: Using pip (Recommended)","text":"<p>This is the simplest method for most users:</p> <pre><code># Create a virtual environment (recommended)\npython -m venv deepchopper_env\nsource deepchopper_env/bin/activate  # On Windows: deepchopper_env\\Scripts\\activate\n\n# Install DeepChopper\npip install deepchopper\n\n# Verify installation\ndeepchopper --version\n</code></pre>"},{"location":"installation/#method-2-using-condamamba","title":"Method 2: Using conda/mamba","text":"<p>If you prefer conda for package management:</p> <pre><code># Create a new conda environment\nconda create -n deepchopper python=3.10\nconda activate deepchopper\n\n# Install DeepChopper\npip install deepchopper\n</code></pre>"},{"location":"installation/#method-3-development-installation","title":"Method 3: Development Installation","text":"<p>For developers who want to contribute or modify the source code:</p> <pre><code># Install uv package manager\npip install uv\n\n# Clone the repository\ngit clone https://github.com/ylab-hi/DeepChopper.git\ncd DeepChopper\n\n# Install dependencies\nuv sync\n\n# Build and install in development mode\nmaturin develop --release\n\n# Run tests to verify\nuv run pytest tests -k \"not slow\"\n</code></pre> <p>For more details, see the Contributing Guide.</p>"},{"location":"installation/#platform-specific-instructions","title":"Platform-Specific Instructions","text":""},{"location":"installation/#linux","title":"Linux","text":"<p>DeepChopper works on most modern Linux distributions:</p> <pre><code># Ubuntu/Debian\nsudo apt-get update\nsudo apt-get install python3.10 python3-pip\n\n# Fedora/CentOS/RHEL\nsudo dnf install python3.10 python3-pip\n\n# Install DeepChopper\npip install deepchopper\n</code></pre>"},{"location":"installation/#macos","title":"macOS","text":"<pre><code># Install Python using Homebrew (if needed)\nbrew install python@3.10\n\n# Install DeepChopper\npip install deepchopper\n</code></pre> <p>Apple Silicon (M1/M2/M3)</p> <p>DeepChopper has native support for Apple Silicon Macs. No special configuration needed!</p>"},{"location":"installation/#windows","title":"Windows","text":"<pre><code># Open PowerShell or Command Prompt\n# Ensure Python 3.10+ is installed\n\n# Create virtual environment\npython -m venv deepchopper_env\ndeepchopper_env\\Scripts\\activate\n\n# Install DeepChopper\npip install deepchopper\n</code></pre>"},{"location":"installation/#gpu-support","title":"GPU Support","text":"<p>DeepChopper can leverage NVIDIA GPUs for faster processing:</p>"},{"location":"installation/#cuda-setup","title":"CUDA Setup","text":"<pre><code># Install PyTorch with CUDA support\n# Check https://pytorch.org for the latest CUDA-compatible version\npip install torch --index-url https://download.pytorch.org/whl/cu121\n\n# Install DeepChopper\npip install deepchopper\n\n# Verify GPU is available\npython -c \"import torch; print(f'CUDA available: {torch.cuda.is_available()}')\"\n</code></pre>"},{"location":"installation/#using-gpus-with-deepchopper","title":"Using GPUs with DeepChopper","text":"<pre><code># Use GPU for prediction\ndeepchopper predict data.parquet --gpus 1\n\n# Use multiple GPUs\ndeepchopper predict data.parquet --gpus 2\n</code></pre>"},{"location":"installation/#compatibility-matrix","title":"Compatibility Matrix","text":"Python Version Linux x86_64 macOS Intel macOS Apple Silicon Windows x86_64 3.10 \u2705 \u2705 \u2705 \u2705 3.11 \u2705 \u2705 \u2705 \u2705 3.12 \u2705 \u2705 \u2705 \u2705"},{"location":"installation/#upgrading-deepchopper","title":"Upgrading DeepChopper","text":"<p>To upgrade to the latest version:</p> <pre><code>pip install --upgrade deepchopper\n</code></pre> <p>Check the changelog for new features and bug fixes.</p>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#common-issues","title":"Common Issues","text":""},{"location":"installation/#issue-command-not-found-deepchopper","title":"Issue: <code>command not found: deepchopper</code>","text":"<p>Solution: Ensure the installation directory is in your PATH:</p> <pre><code># Check where pip installs packages\npip show deepchopper\n\n# Add to PATH (in ~/.bashrc or ~/.zshrc)\nexport PATH=\"$HOME/.local/bin:$PATH\"\n</code></pre>"},{"location":"installation/#issue-import-errors-or-missing-dependencies","title":"Issue: Import errors or missing dependencies","text":"<p>Solution: Reinstall in a clean virtual environment:</p> <pre><code># Remove old environment\nrm -rf deepchopper_env\n\n# Create fresh environment\npython -m venv deepchopper_env\nsource deepchopper_env/bin/activate\npip install --upgrade pip\npip install deepchopper\n</code></pre>"},{"location":"installation/#issue-slow-performance-without-gpu","title":"Issue: Slow performance without GPU","text":"<p>Solution: Install GPU-enabled PyTorch:</p> <pre><code># For CUDA 12.1\npip install torch --index-url https://download.pytorch.org/whl/cu121\n</code></pre>"},{"location":"installation/#issue-out-of-memory-errors","title":"Issue: Out of memory errors","text":"<p>Solution: Use chunking for large datasets:</p> <pre><code># Process in smaller chunks\ndeepchopper chop predictions raw.fq --chunk-size 1000\n</code></pre>"},{"location":"installation/#additional-prerequisites","title":"Additional Prerequisites","text":"<p>Some analyses may require additional tools:</p> <ul> <li>Dorado: For basecalling POD5 files (installation guide)</li> <li>Samtools: For BAM/FASTQ conversion (installation guide)</li> </ul>"},{"location":"installation/#uninstalling","title":"Uninstalling","text":"<p>To completely remove DeepChopper:</p> <pre><code>pip uninstall deepchopper\n</code></pre>"},{"location":"installation/#getting-help","title":"Getting Help","text":"<p>If you encounter issues not covered here:</p> <ol> <li>Check the FAQ</li> <li>Search existing issues</li> <li>Open a new issue with:</li> <li>Your OS and Python version</li> <li>Full error message</li> <li>Steps to reproduce</li> </ol>"},{"location":"installation/#next-steps","title":"Next Steps","text":"<ul> <li>Follow the Tutorial for a complete walkthrough</li> <li>Read the CLI Reference for all available commands</li> <li>Check the FAQ for common questions</li> </ul>"},{"location":"parameters/","title":"Parameter Tuning","text":""},{"location":"parameters/#parameter-tuning","title":"Parameter Tuning","text":"<p>Guidelines for optimizing DeepChopper parameters for your specific dataset.</p> <p>Learn how to adjust parameters for different RNA chemistries, dataset characteristics, and use cases.</p>"},{"location":"parameters/#core-parameters","title":"Core Parameters","text":""},{"location":"parameters/#sliding-window-size-smooth-window","title":"Sliding Window Size (<code>--smooth-window</code>)","text":"<p>The sliding window size controls the smoothing applied to adapter probability scores and significantly impacts detection sensitivity and read fragmentation. This parameter is applied first in the processing pipeline.</p> <p>Recommendation: Start with the default value of 21. If your analysis reveals excessive fragmentation, increase to 31. If you suspect missed adapters, decrease to 11.</p>"},{"location":"parameters/#minimum-interval-size-min-interval-size","title":"Minimum Interval Size (<code>--min-interval-size</code>)","text":"<p>This parameter determines the minimum length of sequence that can be classified as an adapter region. This parameter is applied after the smoothing process during adapter region identification.</p> Value Use Case 8-10 Increased sensitivity to detect very short adapter fragments 13 Default - Balanced detection for typical adapter lengths 15-20 Higher precision, reduces false positives in noisy data <p>Recommendation: For RNA004 chemistry or newer protocols with cleaner data, consider increasing to 15 to reduce false positives.</p>"},{"location":"parameters/#maximum-process-intervals-max-process-intervals","title":"Maximum Process Intervals (<code>--max-process-intervals</code>)","text":"<p>Limits how many adapter regions are processed per read. This parameter is applied after the smoothing process.</p> Value Use Case 2-3 Conservative approach for high-quality data 4 Default - Suitable for most applications 5-8 For highly fragmented reads or complex libraries <p>Recommendation: Monitor read fragmentation metrics after processing. If reads are being over-fragmented, decrease this value.</p>"},{"location":"parameters/#minimum-read-length-min-read-length","title":"Minimum Read Length (<code>--min-read-length</code>)","text":"<p>Specifies the minimum length of sequences to retain after chopping. This parameter is applied after the smoothing process during the final filtering stage.</p> Value Use Case 10 Small RNA or short fragment applications 20 Default - General purpose 50+ When only substantial fragments are of interest <p>Recommendation: Adjust based on your downstream application requirements.</p>"},{"location":"parameters/#chemistry-specific-recommendations","title":"Chemistry-Specific Recommendations","text":""},{"location":"parameters/#rna002","title":"RNA002","text":"<ul> <li>Default parameters are optimized based on extensive testing with RNA002 chemistry</li> <li>No adjustments needed for typical RNA002 datasets</li> </ul>"},{"location":"parameters/#rna004","title":"RNA004","text":"<ul> <li>Default parameters work well due to DeepChopper's zero-shot capability</li> <li>Consider increasing <code>--min-interval-size</code> to 15 to account for cleaner data</li> <li>May benefit from increasing <code>--smooth-window</code> to 31 for reduced false positives</li> </ul>"},{"location":"parameters/#newer-chemistries","title":"Newer Chemistries","text":"<ul> <li>Start with RNA004 recommendations</li> <li>If performance is suboptimal, first adjust <code>--smooth-window</code> and <code>--min-interval-size</code></li> <li>Monitor fragmentation metrics to guide further tuning</li> </ul> <p>Processing Order: DeepChopper applies parameters in this sequence:</p> <ol> <li>Smoothing (<code>--smooth-window</code>)</li> <li>Adapter region identification (<code>--min-interval-size</code>)</li> <li>Processing adapter regions (<code>--max-process-intervals</code>)</li> <li>Final filtering (<code>--min-read-length</code>)</li> </ol>"},{"location":"parameters/#performance-metrics-to-monitor","title":"Performance Metrics to Monitor","text":"<p>When tuning parameters, pay attention to these key metrics:</p> <ul> <li>Percentage of chimeric alignments before and after processing</li> <li>Number of segments per read after processing</li> <li>Read length distribution after processing</li> <li>Proportion of cDNA-supported alignments before and after processing</li> </ul>"},{"location":"parameters/#need-help","title":"Need Help?","text":"<p>If you encounter difficulty optimizing DeepChopper for your specific dataset, please open an issue on our GitHub repository with a description of your data characteristics and the results you're observing.</p>"},{"location":"tutorial/","title":"Tutorial","text":""},{"location":"tutorial/#tutorial","title":"Tutorial","text":"<p>Complete guide for using DeepChopper with Nanopore direct-RNA sequencing data.</p> <p>This tutorial will walk you through the process of identifying and removing chimeric artificial reads in Nanopore direct-RNA sequencing data. Whether you're new to bioinformatics or an experienced researcher, this guide will help you get the most out of DeepChopper.</p>"},{"location":"tutorial/#prerequisites","title":"Prerequisites","text":"<p>Before we begin, ensure you have the following installed:</p> <ul> <li>DeepChopper (latest version)</li> <li>Dorado (Oxford Nanopore's basecaller)</li> <li>Samtools (for BAM to FASTQ conversion)</li> <li>Sufficient storage space for Nanopore data</li> </ul>"},{"location":"tutorial/#1-data-acquisition","title":"1. Data Acquisition","text":"<p>Start by obtaining your Nanopore direct-RNA sequencing data (POD5 files).</p> <pre><code># Example: Download sample data (replace with your actual data source)\nwget https://raw.githubusercontent.com/ylab-hi/DeepChopper/refs/heads/main/tests/data/200cases.pod5\n</code></pre> <p>\ud83d\udca1 Tip: Organize your data in a dedicated project folder for easy management.</p>"},{"location":"tutorial/#2-basecall-using-dorado","title":"2. Basecall Using Dorado","text":"<p>Convert raw signal data to nucleotide sequences using Dorado.</p> <pre><code># Install Dorado (if not already installed)\n# Run Dorado without trimming to preserve all sequences\ndorado basecaller --no-trim rna002_70bps_hac@v3 200cases.pod5 &gt; raw_no_trim.bam\n\n# Convert BAM to FASTQ\nsamtools view raw_no_trim.bam -d dx:0 | samtools fastq &gt; raw_no_trim.fastq\n</code></pre> <p>Replace <code>200cases.pod5</code> with the directory containing your POD5 files. Use <code>rna002_70bps_hac@v3</code> for RNA002 kit or <code>rna004_130bps_hac@v5.0.0</code> for RNA004 kit.</p> <p>The output will be a FASTQ file containing the basecalled sequences with all adapters preserved for DeepChopper analysis.</p> <p>\ud83d\udcdd Note: You can also use Dorado WITH trimming (default behavior without <code>--no-trim</code>), then apply DeepChopper. Dorado's trimming removes 3' end adapters, and DeepChopper can identify and remove internal adapter regions that Dorado doesn't detect. Both approaches work well with DeepChopper.</p> <p>For convenience, you can download a pre-prepared FASTQ file for testing:</p> <pre><code>wget https://raw.githubusercontent.com/ylab-hi/DeepChopper/refs/heads/main/tests/data/raw_no_trim.fastq\n</code></pre>"},{"location":"tutorial/#3-predicting-adapter-to-detect-artificial-chimeric-reads","title":"3. Predicting Adapter to Detect Artificial Chimeric Reads","text":"<p>DeepChopper automatically encodes and analyzes your FASTQ data to identify chimeric reads:</p>"},{"location":"tutorial/#basic-usage","title":"Basic Usage","text":"<pre><code># Predict chimeric reads (default: RNA002 model, CPU)\ndeepchopper predict raw_no_trim.fastq --output predictions\n\n# With GPU acceleration\ndeepchopper predict raw_no_trim.fastq --output predictions --gpus 1\n</code></pre>"},{"location":"tutorial/#model-selection","title":"Model Selection","text":"<p>DeepChopper supports different models optimized for different RNA sequencing kits:</p> <pre><code># Use RNA002 model (default - for RNA002 sequencing kit)\ndeepchopper predict raw_no_trim.parquet --output predictions --model rna002\n\n# Use RNA004 model (for RNA004 sequencing kit)\ndeepchopper predict raw_no_trim.parquet --output predictions --model rna004\n</code></pre> <p>\ud83c\udfaf Important: Choose the model that matches your sequencing kit:</p> <ul> <li><code>rna002</code>: For data generated with the RNA002 sequencing kit</li> <li><code>rna004</code>: For data generated with the RNA004 sequencing kit (newer version with improved chemistry)</li> </ul>"},{"location":"tutorial/#advanced-options","title":"Advanced Options","text":"<pre><code># Process a small subset for testing\ndeepchopper predict raw_no_trim.fastq --output predictions --max-sample 1000\n\n# Use larger batch size for faster processing (requires more memory)\ndeepchopper predict raw_no_trim.fastq --output predictions --batch-size 32 --gpus 1\n\n# Specify number of data loader workers (default: 0)\ndeepchopper predict raw_no_trim.fastq --output predictions --workers 4\n\n# Enable verbose output\ndeepchopper predict raw_no_trim.fastq --output predictions --verbose\n</code></pre>"},{"location":"tutorial/#for-chunked-data","title":"For Chunked Data","text":"<pre><code>deepchopper predict raw_no_trim.fq_chunks/raw_no_trim.fq_0.parquet --output predictions_chunk1\ndeepchopper predict raw_no_trim.fq_chunks/raw_no_trim.fq_1.parquet --output predictions_chunk2\n</code></pre> <p>\ud83d\udcca Results: Check the <code>predictions</code> folder for output files.</p> <p>This step will analyze the encoded data and produce results containing predictions, indicating whether it's likely to be chimeric or not.</p>"},{"location":"tutorial/#hardware-acceleration","title":"Hardware Acceleration","text":"<p>DeepChopper can leverage GPUs for significantly faster processing:</p> <pre><code># Use single GPU (recommended)\ndeepchopper predict raw_no_trim.fastq --output predictions --gpus 1\n\n# Use multiple GPUs (if available)\ndeepchopper predict raw_no_trim.fastq --output predictions --gpus 2\n</code></pre> <p>\ud83d\udca1 Performance Tip: GPU acceleration can provide 10-50x speedup for large datasets. For datasets with &lt;10K reads, CPU processing is sufficient.</p>"},{"location":"tutorial/#4-chopping-artificial-sequences","title":"4. Chopping Artificial Sequences","text":"<p>Now that you have predictions, remove the identified adapter sequences:</p>"},{"location":"tutorial/#chopping-reads","title":"Chopping Reads","text":"<pre><code># Chop reads based on predictions\ndeepchopper chop predictions raw_no_trim.fastq --output chopped.fastq\n</code></pre>"},{"location":"tutorial/#chopping-options","title":"Chopping Options","text":"<pre><code># Specify output prefix\ndeepchopper chop predictions/0 raw_no_trim.fastq --prefix my_cleaned_data\n\n# Control memory usage with batch size (useful for large datasets)\ndeepchopper chop predictions/0 raw_no_trim.fastq --max-batch 5000\n\n# Adjust smoothing and filtering parameters\ndeepchopper chop predictions/0 raw_no_trim.fastq \\\n    --smooth-window 21 \\\n    --min-interval-size 13 \\\n    --min-read-length 20\n\n# Include chopped sequences in output\ndeepchopper chop predictions/0 raw_no_trim.fastq --output-chopped\n\n# Use multiple threads for faster processing\ndeepchopper chop predictions/0 raw_no_trim.fastq --threads 4\n</code></pre>"},{"location":"tutorial/#parameter-guide","title":"Parameter Guide","text":"<p>Key parameters you can adjust:</p> <ul> <li><code>--prefix, -o</code>: Custom output file prefix</li> <li><code>--max-batch</code>: Maximum batch size for memory management (default: auto)</li> <li><code>--threads</code>: Number of threads to use (default: 2)</li> <li><code>--smooth-window</code>: Smooth window size for prediction smoothing (default: 21)</li> <li><code>--min-interval-size</code>: Minimum interval size to consider (default: 13)</li> <li><code>--min-read-length</code>: Minimum read length after chopping (default: 20)</li> <li><code>--approved-intervals</code>: Number of approved intervals (default: 20)</li> <li><code>--output-chopped</code>: Output the chopped sequences separately</li> <li><code>--chop-type</code>: Type of chopping to perform (default: \"all\")</li> </ul> <p>\ud83c\udf89 Success: Look for the output file with the <code>.chop.fq.bgz</code> suffix.</p> <p>This command takes the original FASTQ file (<code>raw_no_trim.fastq</code>) and the predictions (<code>predictions</code>), and produces a new FASTQ file (with suffix <code>.chop.fq.bgz</code>) with the chimeric-artifact chopped.</p>"},{"location":"tutorial/#understanding-the-output","title":"Understanding the Output","text":"<p>The default output is a compressed file in BGZIP format:</p> <ul> <li>Format: BGZIP-compressed FASTQ (<code>.chop.fq.bgz</code>)</li> <li>View: Use <code>zless -S OUTPUT</code> to view the output file contents in a terminal</li> <li>The <code>-S</code> flag: Prevents line wrapping, making it easier to read long sequences</li> <li>Compatibility: Can be directly used with most bioinformatics tools that support BGZIP</li> </ul>"},{"location":"tutorial/#performance-notes","title":"Performance Notes","text":"<p>The default parameters used in DeepChopper are optimized based on extensive testing and validation during our research, as detailed in our paper. These parameters have been shown to provide robust and reliable results across a wide range of sequencing data.</p> <p>Processing Time:</p> <ul> <li>Demo data: ~20-30 minutes</li> <li>Large datasets: May vary depending on:</li> <li>Machine specifications</li> <li>CPU/GPU availability</li> <li>Number of threads used</li> <li>Batch size settings</li> </ul> <p>Memory Management:</p> <ul> <li>Lower batch sizes = less memory but slower processing</li> <li>Higher batch sizes = more memory but faster processing</li> </ul>"},{"location":"tutorial/#5-web-interface-optional","title":"5. Web Interface (Optional)","text":"<p>DeepChopper also provides a user-friendly web interface for quick tests and demonstrations:</p> <pre><code># Launch the web interface\ndeepchopper web\n</code></pre> <p>This will start a local web server where you can:</p> <ul> <li>Upload single FASTQ records</li> <li>Visualize predictions in real-time</li> <li>Test DeepChopper without command-line operations</li> </ul> <p>\u26a0\ufe0f Note: The web interface is designed for quick tests with single reads. For production use with large datasets, use the command-line interface.</p> <p>\ud83c\udf10 Online Version: Try DeepChopper online at Hugging Face Spaces without any installation!</p>"},{"location":"tutorial/#next-steps","title":"Next Steps","text":"<ul> <li>Advanced Parameters: Check our documentation for detailed parameters of the <code>chop</code> command</li> <li>CLI Options: Explore all available options with <code>deepchopper --help</code>, <code>deepchopper encode --help</code>, <code>deepchopper predict --help</code>, etc.</li> <li>Downstream Analysis: Use your cleaned data for:</li> <li>Transcript annotation</li> <li>Gene expression quantification</li> <li>Gene fusion detection</li> <li>Alternative splicing analysis</li> </ul>"},{"location":"tutorial/#troubleshooting","title":"Troubleshooting","text":""},{"location":"tutorial/#memory-issues","title":"Memory Issues","text":"<ul> <li>Issue: Out of memory errors when encoding</li> </ul> <p>Solution:</p> <ul> <li>Use the <code>--chunk</code> option: <code>deepchopper encode input.fastq --chunk</code></li> <li>Reduce chunk size: <code>deepchopper encode input.fastq --chunk --chunk-size 50000</code></li> <li> <p>Process smaller batches of files if dealing with multiple FASTQ files</p> </li> <li> <p>Issue: Out of memory errors for CPU or CUDA (GPU) when predicting</p> </li> </ul> <p>Solution:</p> <ul> <li>Reduce batch size: <code>deepchopper predict input.parquet --batch-size 4</code></li> <li>Use <code>--max-sample</code> for testing: <code>deepchopper predict input.parquet --max-sample 1000</code></li> <li> <p>For large datasets, process in chunks</p> </li> <li> <p>Issue: Out of memory when chopping</p> </li> </ul> <p>Solution:</p> <ul> <li>Reduce the number of threads: <code>deepchopper chop predictions/0 input.fastq --threads 1</code></li> </ul>"},{"location":"tutorial/#performance-issues","title":"Performance Issues","text":"<ul> <li>Issue: Slow processing</li> </ul> <p>Solution:</p> <ul> <li>Enable GPU acceleration: <code>deepchopper predict input.parquet --gpus 1</code></li> <li>Use chunked encoding for better memory efficiency: <code>deepchopper encode input.fastq --chunk</code></li> <li>Increase threads for chopping: <code>deepchopper chop predictions/0 input.fastq --threads 4</code></li> <li> <p>Increase batch size (if memory allows): <code>deepchopper predict input.parquet --batch-size 16</code></p> </li> <li> <p>Issue: Apple Silicon (M1/M2/M3) not using GPU</p> </li> </ul> <p>Solution:</p> <ul> <li>Specify <code>--gpus 1</code> to enable MPS acceleration</li> <li>Ensure PyTorch was installed with MPS support</li> <li>Check with: <code>python -c \"import torch; print(torch.backends.mps.is_available())\"</code></li> </ul>"},{"location":"tutorial/#model-and-results-issues","title":"Model and Results Issues","text":"<ul> <li>Issue: Unexpected results or poor performance</li> </ul> <p>Solution:</p> <ul> <li>Verify model selection: Use <code>--model rna002</code> for RNA002 data or <code>--model rna004</code> for RNA004 data</li> <li>Try both workflows: You can use Dorado with or without trimming - both work well with DeepChopper</li> <li>Verify input data quality (check FASTQ quality scores)</li> <li>Check DeepChopper version: <code>deepchopper --version</code></li> <li>Review the prediction output files before chopping</li> </ul>"},{"location":"tutorial/#hardware-and-compatibility-issues","title":"Hardware and Compatibility Issues","text":"<ul> <li>Issue: GPU driver compatibility error</li> </ul> <p>Solution:</p> <ul> <li>Update your GPU driver to the latest version</li> <li> <p>Install a compatible PyTorch version:</p> <ul> <li>CUDA 11.8: <code>pip install torch --force-reinstall --index-url https://download.pytorch.org/whl/cu118</code></li> <li>CUDA 12.1: <code>pip install torch --force-reinstall --index-url https://download.pytorch.org/whl/cu121</code></li> <li>CPU only: <code>pip install torch --force-reinstall --index-url https://download.pytorch.org/whl/cpu</code></li> </ul> </li> <li> <p>Issue: <code>deepchopper</code> command not found</p> </li> </ul> <p>Solution:</p> <ul> <li>Ensure the installation directory is in your PATH</li> <li>Check installation: <code>pip show deepchopper</code></li> <li>Try reinstalling: <code>pip install --force-reinstall deepchopper</code></li> <li>Activate your virtual environment if you created one</li> </ul>"},{"location":"tutorial/#getting-help","title":"Getting Help","text":"<p>If you encounter issues not covered here:</p> <ol> <li>Check the GitHub Issues for similar problems</li> <li>Review the full documentation</li> <li>Use <code>--verbose</code> flag to see detailed error messages</li> <li>Open a new issue with:</li> <li>DeepChopper version (<code>deepchopper --version</code>)</li> <li>Command you ran</li> <li>Full error message</li> <li>System information (OS, Python version, GPU if applicable)</li> </ol> <p>Happy sequencing, and may your data be artifical-chimera-free! \ud83e\uddec\ud83d\udd0d</p>"}]}